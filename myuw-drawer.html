<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<script type="text/javascript">
		window.customElements.define('myuw-drawer', class extends HTMLElement {
			constructor() {
				super();
				this._root = this.attachShadow({mode: 'open'});
				this._root.innerHTML = `
					<style>
						@import url(https://fonts.googleapis.com/icon?family=Material+Icons);
					</style>
					<ul id="list-container"></ul>
				`;

				this._list = [
					{ name: 'Google', icon: 'mail', href: 'http://google.com' },
					{ name: 'Learn', icon: 'warning', href:'http://google.com'}
				];
			}

			connectedCallback() {
				console.log('Custom element added to page.');
				this.$listContainer = this._root.querySelector('#list-container');

				if (!this.$listContainer) return;
				this.$listContainer.innerHTML = '';
				this._list.forEach((item, index) => {
					let $item = document.createElement('li');
					$item.innerHTML = `
						<a href="${item.href}">
							<i class="material-icons">${item.icon}</i>
							<span>${item.name}</span>
						</a>
					`;

					$item.index = index;
					this.$listContainer.appendChild($item);
				});

				this.addEventListener('click', e => { this.toggleDrawer(); });
			}

			disconnectedCallback() {
				console.log('Custom element removed from page.');
			}

			attributeChangedCallback(name, oldValue, newValue) {
				console.log('Custom element attributes changed.');
			}
			static get observedAttributes() {
				return ['open'];
			}

			toggleDrawer() {
				this.style.display = 'none'
				this.removeAttribute('open');
			}
		});
		
	</script>
</head>
<body>
	<myuw-drawer open></myuw-drawer>
</body>
</html>